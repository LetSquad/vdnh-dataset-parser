# vdnh-dataset-parser

Модуль vdnh-dataset-parser предназначен для заполнения базы данных модуля vdnh-back информацией об объектах на территории ВДНХ, их загруженности и проводимых событиях на основе датасетов.

Также предусмотрен режим работы приложения с формированием файлов в формате CSV для проведения аналитики по местам и событиям на территории ВДНХ.

### Инструкция по сборке и запуску

#### Сборка приложения

Команда для сборки:

`mvn clean install`

В случае успешной сборки приложения в рабочей директории будет создана поддиректория target с приложением, а в лог будет выведено сообщение:

`BUILD SUCCESS`

#### Запуск приложения в режиме заполнения базы данных с загрузкой актуальных датасетов ВДНХ

Для настройки подключения к базе данных в рабочей директории необходимо создать файл application.yml со следующим содержимым:

```yaml
spring:
  datasource:
    url: 'jdbc:postgresql://<DATABASE_HOST>/<DATABASE_NAME>'
    username: <DATABASE_USERNAME>
    password: <DATABASE_PASSWORD>
```

В базе данных должна быть создана структура таблиц в соответствии с моделью данных модуля vdnh-back

Команда для запуска модуля vdnh-dataset-parser (из директории target):

`java -jar vdnh-dataset-parser.jar --spring.profiles.active=database,online`

В случае успешного завершения работы парсера в лог будет выведено сообщение:

`Dataset parsing with target = database finished successfully`
